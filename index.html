<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Jogo do C√≠rculo 2.0</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background-color: #222;
      color: #fff;
      overflow: hidden;
    }

    canvas {
      background: #111;
      display: block;
      margin: 0 auto;
    }

    #ui {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 2;
    }

    button {
      background: #444;
      color: white;
      border: none;
      padding: 8px 12px;
      margin: 4px;
      cursor: pointer;
      border-radius: 5px;
    }

    .menu {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #333;
      padding: 20px;
      border-radius: 10px;
      display: none;
      flex-direction: column;
      z-index: 3;
    }

    .menu h2 {
      margin-top: 0;
    }

    .hidden {
      display: none !important;
    }
  </style>
</head>
<body>
  <canvas id="game" width="600" height="400"></canvas>

  <div id="ui">
    <button onclick="togglePause()">‚è∏Ô∏è Pausar</button>
    <button onclick="openMenu('shop')">üõí Loja</button>
    <button onclick="openMenu('settings')">‚öôÔ∏è Configura√ß√µes</button>
    <div id="coins">üí∞ Moedas: 0</div>
  </div>

  <div id="shop" class="menu">
    <h2>Loja</h2>
    <p>Melhorar Velocidade - <span id="speedCost">25</span> moedas</p>
    <button onclick="upgradeSpeed()">Comprar</button>
    <p id="upgradeStatus"></p>
    <button onclick="closeMenus()">Fechar</button>
  </div>

  <div id="settings" class="menu">
    <h2>Configura√ß√µes</h2>
    <p>(Em breve novas op√ß√µes!)</p>
    <button onclick="closeMenus()">Fechar</button>
  </div>

  <script>
    const canvas = document.getElementById("game");
    const ctx = canvas.getContext("2d");

    let x = canvas.width / 2;
    let y = canvas.height / 2;
    let radius = 15;
    let dx = 2;
    let dy = 2;
    let coins = parseInt(localStorage.getItem("coins")) || 0;
    let speedLevel = parseInt(localStorage.getItem("speedLevel")) || 1;
    let paused = false;
    let speedCost = 25;

    function drawBall() {
      ctx.beginPath();
      ctx.arc(x, y, radius, 0, Math.PI * 2);
      ctx.fillStyle = "#00ffcc";
      ctx.fill();
      ctx.closePath();
    }

    function draw() {
      if (paused) return;
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      drawBall();

      x += dx;
      y += dy;

      if (x + radius > canvas.width || x - radius < 0) {
        dx = -dx;
        addCoins(1);
      }
      if (y + radius > canvas.height || y - radius < 0) {
        dy = -dy;
        addCoins(1);
      }

      requestAnimationFrame(draw);
    }

    function addCoins(amount) {
      coins += amount;
      updateUI();
      saveData();
    }

    function updateUI() {
      document.getElementById("coins").innerText = `üí∞ Moedas: ${coins}`;
      document.getElementById("speedCost").innerText = speedCost;
    }

    function togglePause() {
      paused = !paused;
      if (!paused) draw();
    }

    function openMenu(menuId) {
      closeMenus();
      document.getElementById(menuId).style.display = "flex";
    }

    function closeMenus() {
      document.querySelectorAll(".menu").forEach(el => el.style.display = "none");
    }

    function upgradeSpeed() {
      if (coins >= speedCost && speedLevel < 4) {
        coins -= speedCost;
        speedLevel++;
        speedCost *= 2;
        dx *= 1.2;
        dy *= 1.2;
        updateUI();
        saveData();
        if (speedLevel === 4) {
          coins += 500;
          document.getElementById("upgradeStatus").innerText = "üèÜ Conquista: Velocidade M√°xima! +500 moedas!";
        }
      } else {
        document.getElementById("upgradeStatus").innerText = "Moedas insuficientes ou velocidade m√°xima atingida.";
      }
    }

    function saveData() {
      localStorage.setItem("coins", coins);
      localStorage.setItem("speedLevel", speedLevel);
    }

    window.onload = () => {
      updateUI();
      draw();
    };
  </script>
</body>
</html>
