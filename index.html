<!DOCTYPE html>
<html lang="pt-BR" >
<head>
  <meta charset="UTF-8" />
  <title>Jogo do Círculo Pixel Art + Menu</title>
  <style>
    body, html {
      margin: 0; padding: 0; height: 100%;
      background: #121212;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: white;
      overflow: hidden;
    }
    #menu {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      user-select: none;
    }
    #menu h1 {
      font-size: 48px;
      margin-bottom: 40px;
      letter-spacing: 4px;
      color: #0ff;
      text-shadow: 0 0 15px #0ff;
    }
    button {
      display: block;
      margin: 15px auto;
      background: linear-gradient(45deg, #0ff, #005555);
      border: none;
      border-radius: 12px;
      padding: 14px 40px;
      font-size: 20px;
      color: #000;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 0 20px #0ff;
      transition: all 0.3s ease;
      user-select: none;
    }
    button:hover {
      background: linear-gradient(45deg, #00ffaa, #003333);
      box-shadow: 0 0 30px #00ffaa;
      color: white;
    }
    #gameCanvas {
      display: none;
      background: #222;
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
    }
  </style>
</head>
<body>

  <div id="menu">
    <h1>Jogo do Círculo</h1>
    <button id="startBtn">Jogar</button>
    <button id="configBtn">Configurações</button>
    <button id="shopBtn">Loja</button>
  </div>

  <canvas id="gameCanvas"></canvas>

  <script>
    const menu = document.getElementById('menu');
    const startBtn = document.getElementById('startBtn');
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');

    // Variáveis do jogo
    let running = false;
    let animationId;

    // Canvas full screen
    function resize() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    // --- Skin pixel art: bolinha com olhinhos piscando e brilho ---

    // Paleta pixel art (cores)
    const palette = {
      base: "#00ffff",
      shadow: "#007777",
      eyeWhite: "#ffffff",
      eyePupil: "#000000",
      shine1: "#66ffff",
      shine2: "#99ffff"
    };

    // Estado do olho (aberto ou fechado)
    let eyeOpen = true;
    let eyeBlinkTimer = 0;

    // Desenha bolinha pixelada
    function drawPixelCircle(x, y, scale = 4) {
      /*
       * Bolinha 8x8 pixels simplificada:
       * Cores base e detalhes olhos e brilho
       */
      const px = (x, y) => [x * scale, y * scale];

      // Base da bolinha (círculo)
      ctx.fillStyle = palette.base;
      // desenha pixels principais (um círculo pixelado 8x8)
      // Vamos desenhar quadradinhos para formar a bolinha
      // Mapa 8x8, 1 = base, 2 = sombra, 3 = olho branco, 4 = olho preto, 5 = brilho
      const map = [
        [0,0,1,1,1,1,0,0],
        [0,1,1,1,1,1,1,0],
        [1,1,1,1,1,1,1,1],
        [1,1,3,3,3,3,1,1],
        [1,1,3,eyeOpen ? 4 : 0, eyeOpen ? 4 : 0, 3,1,1],
        [1,1,3,3,3,3,1,1],
        [0,1,1,1,1,1,1,0],
        [0,0,1,1,1,1,0,0],
      ];

      for(let row=0; row<8; row++) {
        for(let col=0; col<8; col++) {
          let val = map[row][col];
          switch(val) {
            case 1: ctx.fillStyle = palette.base; break;
            case 2: ctx.fillStyle = palette.shadow; break;
            case 3: ctx.fillStyle = palette.eyeWhite; break;
            case 4: ctx.fillStyle = palette.eyePupil; break;
            case 5: ctx.fillStyle = palette.shine1; break;
            default: continue;
          }
          let [pxX, pxY] = px(col, row);
          ctx.fillRect(pxX + x, pxY + y, scale, scale);
        }
      }

      // Brilho
      ctx.fillStyle = palette.shine2;
      ctx.fillRect(x + scale * 1, y + scale * 1, scale, scale);
      ctx.fillRect(x + scale * 2, y + scale * 2, scale, scale);
    }

    // Atualiza piscar dos olhos
    function updateBlink(delta) {
      eyeBlinkTimer += delta;
      if (eyeBlinkTimer > 3000) { // piscar a cada 3 segundos
        eyeOpen = false;
      }
      if (eyeBlinkTimer > 3200) {
        eyeOpen = true;
        eyeBlinkTimer = 0;
      }
    }

    // --- Jogo simples: círculo quicando com skin pixel art ---

    let circleX = 100;
    let circleY = 100;
    let circleDX = 4;
    let circleDY = 4;
    const circleRadius = 32; // tamanho visual do pixel art 8*4=32px

    function gameLoop(timestamp=0) {
      if (!running) return;
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      updateBlink(16); // simulando 60fps (16ms)

      circleX += circleDX;
      circleY += circleDY;

      // colisão com bordas
      if(circleX + circleRadius > canvas.width) circleDX = -circleDX;
      if(circleX - circleRadius < 0) circleDX = -circleDX;
      if(circleY + circleRadius > canvas.height) circleDY = -circleDY;
      if(circleY - circleRadius < 0) circleDY = -circleDY;

      drawPixelCircle(circleX - circleRadius, circleY - circleRadius);

      animationId = requestAnimationFrame(gameLoop);
    }

    // --- Botões ---

    startBtn.addEventListener('click', () => {
      menu.style.display = 'none';
      canvas.style.display = 'block';
      running = true;
      animationId = requestAnimationFrame(gameLoop);
    });

    // Ainda não implementei Configurações e Loja, mas podemos depois!

  </script>

</body>
</html>
